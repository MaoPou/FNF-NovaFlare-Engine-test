<div align="center">
  <img src="https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/NovaFlare-Engine.github.io/refs/heads/main/images/logo2.png" width="380" alt="NovaFlare Icon"></img>
  <br/>
  <h1 align="center">Friday Night Funkin' - NovaFlare Engine</h1>
  <p align="center">Engine based on Psych originally used on VS Camellia fanmade and focused on optimisation and perfomance to give players best possible experience. It was later moved to support modules.</p>
  
  <div style="max-width: 500px; margin: 0 auto;">
    <p style="margin: 12px 0;">
      <a href="https://novaflare.fun" style="font-size: 1.1em; display: block;">ğŸŒ Our Official Website ğŸŒ</a>
    </p>
    <p style="margin: 12px 0;">
      <a href="https://novaflare.fun/docs-choose.html" style="font-size: 1.1em; display: block;">â—Our Docsâ—</a>
    </p>
    <!--
    <p style="margin: 12px 0;">
      <a href="http://xz.novaflare.top/" style="font-size: 1.1em; display: block;">ğŸ‡¨ğŸ‡³ ä¸­å›½ç½‘ç»œä¸‹è½½ (Chinese Mirror) ğŸ‡¨ğŸ‡³</a>
    </p>
    -->
    <p style="margin: 2px 0;">
      <a href="https://online.novaflare.fun/dashboard.php" style="font-size: 0.1em; display: block;">-------------------------</a>
    </p>
  </div>
</div>
<br />

# NovaFlare crew credits:
| Avatar | Username | Involvement |
| ------ | -------- | ----------- | 
| ![](https://avatars.githubusercontent.com/u/105789304?v=4) | [NF Beihu](https://youtube.com/@beihu235) | Creator and programmer for NF (NovaFlare) Engine.
| ![](https://avatars.githubusercontent.com/u/166735337?s=400&u=90192fb223fa071ae4cfcfec0853ea7593f9d13d&v=4) |[MaoPou](https://github.com/MaoPou) | Helper and programmer for NF (NovaFlare) Engine.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/chiny.png) |[Chiny](https://space.bilibili.com/3493288327777064) | Programmer for NF (NovaFlare) Engine and Touhou player.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/tieguo.png) |[TieGuo](https://b23.tv/7OVWzAO) | Pause menu redesigner for NF (NovaFlare) Engine.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/Careful_Scarf_487.png) |[Careful_Scarf_487](https://b23.tv/DQ1a0jO) | Main artist for NF (NovaFlare) Engine.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/mengqi.png) |[MengQi](https://space.bilibili.com/2130239542) | Artist for NF's pause menu.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/AZjessica.png) |[AZjessica](https://www.youtube.com/@azjessica) | Freeplay menu artist for NF (NovaFlare) Engine.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/beneyre.png) |[Ben Eyre](https://x.com/hngstngxng83905?t=GDKWYMRZsCMUMXYs0cmYrw&s=09) | Credits menu artist for NF (NovaFlare) Engine.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/als.png) |[Als](https://b23.tv/mNNX8R8) | Init intro artist for NF (NovaFlare) Engine.
| ![](https://raw.githubusercontent.com/NovaFlare-Engine-Concentration/FNF-NovaFlare-Engine/refs/heads/main/assets/shared/images/credits/bigIcon/ddd.png) |[blockDDDdark](https://space.bilibili.com/401733211) | Engine sound effort helper for NF (NovaFlare) Engine.

# Psych Engine credits
| Avatar | Username | Involvement |
| ------ | -------- | ----------- |
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/shadowmario.png) | [Shadow Mario](https://ko-fi.com/shadowmario) | Main programmer and Head of Psych Engine
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/riveren.png) | [Riveren](https://x.com/riverennn) | Main Artist/Animator of Psych Engine
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/bb.png) | [Bb-Panzu](https://x.com/bbsub3) | Ex-programmer of Psych Engine
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/crowplexus.png) | [Crowplexus](https://twitter.com/IamMorwen) | Linux Support, HScript Iris, Input System v3, and Other PRs
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/kamizeta.png) | [Kamizeta](https://www.instagram.com/cewweey/) | Creator of Pessy, Psych Engine's mascot
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/maxneton.png) | [MaxNeton](https://bsky.app/profile/maxneton.bsky.social) | Loading Screen Easter Egg Artist/Animator
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/keoiki.png) | [Keoiki](https://x.com/Keoiki_) | Note Splash Animations and Latin Alphabet
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/sqirra.png) | [SqirraRNG](https://x.com/gedehari) | Crash Handler and Base code for Chart Editor's Waveform
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/mastereric.png) | [EliteMasterEric](https://x.com/EliteMasterEric) | Runtime Shaders support and Other PRs"
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/majigsaw.png) | [MAJigsaw](https://x.com/MAJigsaw77) | MP4 Video Loader Library (hxvlc)
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/flicky.png) | [iFlicky](https://x.com/flicky_i) | Composer of Psync and Tea Time and some sound effects
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/kade.png) | [KadeDev](https://x.com/kade0912) | Fixed some issues on Chart Editor and Other PRs
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/superpowers04.png) | [Superpowers04](https://x.com/superpowers04) | LUA JIT fork contributor
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/cheems.png) | [CheemsAndFriends](https://x.com/CheemsnFriendos) | Creator of FlxAnimate lib

# Funkin Crew credits
| Avatar | Username | Involvement |
| ------ | -------- | ----------- |
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/ninjamuffin99.png) | [NinjaMuffin99](https://x.com/ninja_muffin99) | Programmer of Friday Night Funkin'
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/phantomarcade.png) | [PhantomArcade](https://x.com/PhantomArcade3K) | Animator of Friday Night Funkin'
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/evilsk8r.png) | [Evilsk8r](https://x.com/evilsk8r) | Artist of Friday Night Funkin'
| ![](https://raw.githubusercontent.com/ShadowMario/FNF-PsychEngine/refs/heads/main/assets/shared/images/credits/kawaisprite.png) | [KawaiSprite](https://x.com/kawaisprite) | Composer of Friday Night Funkin'
## Shader å…¼å®¹æ€§æ£€æµ‹ï¼ˆOpenGL ES 3.0 / 300 esï¼‰

æœ¬ä»“åº“æä¾›ä¸€ä¸ªå·¥å…·ç”¨äºæ‰«æå¹¶éªŒè¯æ‰€æœ‰å®‰å“ç«¯å¯è¿è¡Œçš„ Shader æ˜¯å¦å…¼å®¹ OpenGL ES 3.0 è¯­æ³•ï¼ˆ`#version 300 es`ï¼‰ã€‚è¯¥å·¥å…·ä¼šï¼š
- æ‰«æ `source/shaders` ç›®å½•ä¸­æ‰€æœ‰ Haxe å®šä¹‰çš„ `@:glFragmentSource` / `@:glVertexSource` ä»¥åŠå¤–éƒ¨ `.frag/.glsl` æ–‡ä»¶ï¼›
- è‡ªåŠ¨è¿›è¡Œ ES3 é¢„è½¬æ¢ï¼ˆç»Ÿä¸€ `attribute/varying`ã€`texture2Dâ†’texture`ã€`gl_FragColorâ†’out`ã€ç§»é™¤éæ³•å…¨å±€åˆå§‹åŒ–ç­‰ï¼‰ï¼›
- å¯¹å…³é”®è¯­æ³•ç‰¹æ€§è¿›è¡Œé™æ€æ£€æŸ¥ï¼ˆuniformã€samplerã€çŸ©é˜µã€åˆ†æ”¯æ§åˆ¶ï¼‰ï¼›
- ç”Ÿæˆè¯¦ç»†æŠ¥å‘Šä¸å·²è½¬æ¢ç¤ºä¾‹ä»£ç åº“ã€‚

### è¿è¡Œæ–¹å¼

1. å®‰è£… Haxeï¼ˆæ¨è Neko æˆ– HashLink ç›®æ ‡ï¼‰ã€‚
2. åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€ï¼š

```
haxe --run tools.shader_compat.ShaderCompatChecker
```

æˆ–ç¼–è¯‘åˆ° Neko åè¿è¡Œï¼š

```
haxe -main tools.shader_compat.ShaderCompatChecker -neko bin/shader_compat.n
neko bin/shader_compat.n
```

### è¾“å‡ºå†…å®¹

- æŠ¥å‘Šç›®å½•ï¼š`reports/shader_compat/`
  - `report.json`ï¼šæ¯ä¸ª Shader çš„è¯¦ç»†æ£€æŸ¥ç»“æœï¼ˆæ˜¯å¦å…¼å®¹ã€å¤±è´¥é¡¹ä¸è¯´æ˜ï¼‰ã€‚
  - `summary.md`ï¼šMarkdown æ‘˜è¦ï¼Œä¾¿äºå¿«é€ŸæŸ¥çœ‹ã€‚
- ç¤ºä¾‹ä»£ç åº“ï¼š`reports/shader_compat/verified_es300/`
  - ä¸ºæ¯ä¸ªæ‰«æåˆ°çš„ Shader ç”Ÿæˆè½¬æ¢åçš„ ES 3.0 ç‰ˆæœ¬ï¼ˆå« `#version 300 es` ä¸ç²¾åº¦å‰ç¼€ã€å¿…è¦çš„è¾“å‡ºå£°æ˜ï¼‰ã€‚

### æ£€æŸ¥é¡¹è¯´æ˜

- uniform å£°æ˜ï¼šæ˜¯å¦å­˜åœ¨æœ‰æ•ˆçš„ `uniform` ç±»å‹å£°æ˜ã€‚
- é‡‡æ ·å™¨ä½¿ç”¨ï¼šæ˜¯å¦ä½¿ç”¨ `texture()` æˆ–æ¡†æ¶çš„ `flixel_texture2D()`ã€‚
- çŸ©é˜µè¿ç®—ï¼šæ˜¯å¦ä½¿ç”¨ `mat2/mat3/mat4`ã€`transpose`ã€`outerProduct` ç­‰ï¼ˆéå¿…éœ€ï¼Œä»…æ ‡è®°ï¼‰ã€‚
- åˆ†æ”¯æ§åˆ¶ï¼šæ˜¯å¦å­˜åœ¨ `if/for/while` ç­‰æ ‡å‡†æµç¨‹æ§åˆ¶ã€‚
- åºŸå¼ƒå†…å»ºï¼šæ˜¯å¦ç§»é™¤äº† `gl_FragColor/gl_FragData/attribute/varying` ç­‰ ES3 ä¸æ¨èçš„æ—§æ¥å£ã€‚

### æ¡Œé¢è¿è¡Œç¯å¢ƒé€‚é…ï¼ˆè¯´æ˜ï¼‰

å·¥å…·ä¼šä¸º ES3 è½¬æ¢ç‰ˆæœ¬åŒæ—¶ç”Ÿæˆå¯ç”¨äºæ¡Œé¢ GL çš„æºç ï¼ˆé€šè¿‡ `ErrorHandledRuntimeShader` çš„ç‰ˆæœ¬å‰ç¼€ä¸ç»Ÿä¸€ APIï¼‰ï¼Œä½ å¯ä»¥åœ¨ Windows/macOS/Linux ä¸Šé€šè¿‡ OpenFL/Lime çš„ GL ä¸Šä¸‹æ–‡è¿›è¡Œç¼–è¯‘æµ‹è¯•ã€‚è‹¥éœ€è¦æ›´ä¸¥æ ¼çš„ç¦»çº¿ç¼–è¯‘éªŒè¯ï¼Œå»ºè®®é…åˆ `glslangValidator` æˆ– ANGLE ç¯å¢ƒè¿›è¡Œå®é™…ç¼–è¯‘ä¸è¿è¡Œæµ‹è¯•ã€‚
